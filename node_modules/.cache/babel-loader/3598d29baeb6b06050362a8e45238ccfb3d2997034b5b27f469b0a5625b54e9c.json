{"ast":null,"code":"import axios from 'axios';\nimport GameDto from '../DTOs/GameDto';\nexport async function getAllGames() {\n  try {\n    const response = await axios.get(\"https://simon.pekneweby.com/api/games\");\n    if (response.data && response.data.member) {\n      const gameData = response.data.member;\n      const games = await Promise.all(gameData.map(async game => {\n        const [homeTeam, awayTeam, supervisor, referees] = await Promise.all([fetchData(game.homeTeamId), fetchData(game.awayTeamId), fetchData(game.superviserId), fetchReferees(game.refereeGames)]);\n        return new GameDto({\n          id: game.id,\n          homeTeam,\n          awayTeam,\n          supervisor,\n          referees\n        });\n      }));\n      console.log(\"Kompletní DTO hry:\", games.map(game => game));\n      return games;\n    }\n    return [];\n  } catch (error) {\n    console.error(\"Chyba při načítání her:\", error);\n    return [];\n  }\n}\nasync function fetchData(apiUrl) {\n  if (!apiUrl) return null;\n  try {\n    const response = await axios.get(\"https://simon.pekneweby.com\" + apiUrl);\n    return response.data;\n  } catch (error) {\n    console.error(\"Chyba při načítání dat:\", error);\n    return null;\n  }\n}\nasync function fetchReferees(refereeGames) {\n  if (!refereeGames) return [];\n  return Promise.all(refereeGames.map(async refGame => {\n    try {\n      const response = await axios.get(\"https://simon.pekneweby.com\" + refGame.referee);\n      return response.data;\n    } catch (error) {\n      console.error(\"Chyba při načítání rozhodčího:\", error);\n      return null;\n    }\n  }));\n}","map":{"version":3,"names":["axios","GameDto","getAllGames","response","get","data","member","gameData","games","Promise","all","map","game","homeTeam","awayTeam","supervisor","referees","fetchData","homeTeamId","awayTeamId","superviserId","fetchReferees","refereeGames","id","console","log","error","apiUrl","refGame","referee"],"sources":["/Users/simonhrdy/Desktop/bakalarka/web/src/Repositories/GameRepository.js"],"sourcesContent":["import axios from 'axios';\nimport GameDto from '../DTOs/GameDto';\n\nexport async function getAllGames() {\n    try {\n        const response = await axios.get(\"https://simon.pekneweby.com/api/games\");\n        if (response.data && response.data.member) {\n            const gameData = response.data.member;\n\n            const games = await Promise.all(\n                gameData.map(async (game) => {\n                    const [homeTeam, awayTeam, supervisor, referees] = await Promise.all([\n                        fetchData(game.homeTeamId),\n                        fetchData(game.awayTeamId),\n                        fetchData(game.superviserId),\n                        fetchReferees(game.refereeGames)\n                    ]);\n\n                    return new GameDto({\n                        id: game.id,\n                        homeTeam,\n                        awayTeam,\n                        supervisor,\n                        referees\n                    });\n                })\n            );\n\n            console.log(\"Kompletní DTO hry:\", games.map(game => game));\n            return games;\n        }\n        return [];\n    } catch (error) {\n        console.error(\"Chyba při načítání her:\", error);\n        return [];\n    }\n}\n\nasync function fetchData(apiUrl) {\n    if (!apiUrl) return null;\n    try {\n        const response = await axios.get(\"https://simon.pekneweby.com\" + apiUrl);\n        return response.data;\n    } catch (error) {\n        console.error(\"Chyba při načítání dat:\", error);\n        return null;\n    }\n}\n\nasync function fetchReferees(refereeGames) {\n    if (!refereeGames) return [];\n    return Promise.all(\n        refereeGames.map(async (refGame) => {\n            try {\n                const response = await axios.get(\"https://simon.pekneweby.com\" + refGame.referee);\n                return response.data;\n            } catch (error) {\n                console.error(\"Chyba při načítání rozhodčího:\", error);\n                return null;\n            }\n        })\n    );\n}\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,OAAO,MAAM,iBAAiB;AAErC,OAAO,eAAeC,WAAWA,CAAA,EAAG;EAChC,IAAI;IACA,MAAMC,QAAQ,GAAG,MAAMH,KAAK,CAACI,GAAG,CAAC,uCAAuC,CAAC;IACzE,IAAID,QAAQ,CAACE,IAAI,IAAIF,QAAQ,CAACE,IAAI,CAACC,MAAM,EAAE;MACvC,MAAMC,QAAQ,GAAGJ,QAAQ,CAACE,IAAI,CAACC,MAAM;MAErC,MAAME,KAAK,GAAG,MAAMC,OAAO,CAACC,GAAG,CAC3BH,QAAQ,CAACI,GAAG,CAAC,MAAOC,IAAI,IAAK;QACzB,MAAM,CAACC,QAAQ,EAAEC,QAAQ,EAAEC,UAAU,EAAEC,QAAQ,CAAC,GAAG,MAAMP,OAAO,CAACC,GAAG,CAAC,CACjEO,SAAS,CAACL,IAAI,CAACM,UAAU,CAAC,EAC1BD,SAAS,CAACL,IAAI,CAACO,UAAU,CAAC,EAC1BF,SAAS,CAACL,IAAI,CAACQ,YAAY,CAAC,EAC5BC,aAAa,CAACT,IAAI,CAACU,YAAY,CAAC,CACnC,CAAC;QAEF,OAAO,IAAIrB,OAAO,CAAC;UACfsB,EAAE,EAAEX,IAAI,CAACW,EAAE;UACXV,QAAQ;UACRC,QAAQ;UACRC,UAAU;UACVC;QACJ,CAAC,CAAC;MACN,CAAC,CACL,CAAC;MAEDQ,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEjB,KAAK,CAACG,GAAG,CAACC,IAAI,IAAIA,IAAI,CAAC,CAAC;MAC1D,OAAOJ,KAAK;IAChB;IACA,OAAO,EAAE;EACb,CAAC,CAAC,OAAOkB,KAAK,EAAE;IACZF,OAAO,CAACE,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IAC/C,OAAO,EAAE;EACb;AACJ;AAEA,eAAeT,SAASA,CAACU,MAAM,EAAE;EAC7B,IAAI,CAACA,MAAM,EAAE,OAAO,IAAI;EACxB,IAAI;IACA,MAAMxB,QAAQ,GAAG,MAAMH,KAAK,CAACI,GAAG,CAAC,6BAA6B,GAAGuB,MAAM,CAAC;IACxE,OAAOxB,QAAQ,CAACE,IAAI;EACxB,CAAC,CAAC,OAAOqB,KAAK,EAAE;IACZF,OAAO,CAACE,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IAC/C,OAAO,IAAI;EACf;AACJ;AAEA,eAAeL,aAAaA,CAACC,YAAY,EAAE;EACvC,IAAI,CAACA,YAAY,EAAE,OAAO,EAAE;EAC5B,OAAOb,OAAO,CAACC,GAAG,CACdY,YAAY,CAACX,GAAG,CAAC,MAAOiB,OAAO,IAAK;IAChC,IAAI;MACA,MAAMzB,QAAQ,GAAG,MAAMH,KAAK,CAACI,GAAG,CAAC,6BAA6B,GAAGwB,OAAO,CAACC,OAAO,CAAC;MACjF,OAAO1B,QAAQ,CAACE,IAAI;IACxB,CAAC,CAAC,OAAOqB,KAAK,EAAE;MACZF,OAAO,CAACE,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;MACtD,OAAO,IAAI;IACf;EACJ,CAAC,CACL,CAAC;AACL","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}