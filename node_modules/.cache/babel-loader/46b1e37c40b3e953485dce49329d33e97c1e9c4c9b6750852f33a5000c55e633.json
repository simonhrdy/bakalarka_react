{"ast":null,"code":"var _jsxFileName = \"/Users/simonhrdy/Desktop/bakalarka/web/src/layout/Recipe/recipes.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { getAllRecipe } from \"../../Repositories/RecipeRepository\";\nimport { getFilteredRecipes } from \"../../Repositories/RecipeRepository\";\nimport Recipe from \"../../components/recipe\";\nimport { paginate } from \"../../Services/paginationUtils\";\nimport Select from \"../../components/select\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Recipes() {\n  _s();\n  const [recipes, setRecipes] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [sortValue, setSortValue] = useState('0');\n  const recipesPerPage = 8;\n  const options = [{\n    value: '0',\n    label: ''\n  }, {\n    value: '1',\n    label: 'Podle hodnocení'\n  }, {\n    value: '2',\n    label: 'Od nejnovějšího'\n  }, {\n    value: '3',\n    label: 'Od nejstaršího'\n  }];\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        const data = await getAllRecipe();\n        setRecipes(data);\n      } catch (error) {\n        console.error(error);\n      }\n    }\n    fetchData();\n  }, []);\n  useEffect(() => {\n    async function fetchFilteredData() {\n      try {\n        console.log(sortValue);\n        const data = await getFilteredRecipes(sortValue);\n        setRecipes(data);\n      } catch (error) {\n        console.error(error);\n      }\n    }\n    fetchFilteredData();\n  }, [sortValue]);\n  const currentRecipes = paginate(recipes, currentPage, recipesPerPage);\n  const handlePageChange = pageNumber => setCurrentPage(pageNumber);\n  const handleSortChange = event => {\n    setSortValue(event.target.value);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-center text-4xl font-bold mt-16 mb-8\",\n      children: \"Recepty\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mx-auto max-w-2xl px-4 py-12 lg:max-w-7xl lg:px-8\",\n      children: [/*#__PURE__*/_jsxDEV(Select, {\n        className: \"text-black mt-1 rounded-xl w-fit\",\n        options: options,\n        label: \"Třídění\",\n        value: sortValue,\n        onChange: handleSortChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 gap-x-6 gap-y-10 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 xl:gap-x-8 mt-5\",\n        children: currentRecipes.map(recipe => /*#__PURE__*/_jsxDEV(Recipe, {\n          recipe: recipe\n        }, recipe.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-7\",\n        children: recipes.length > recipesPerPage && /*#__PURE__*/_jsxDEV(\"nav\", {\n          className: \"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"hidden sm:block\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-700\",\n              children: [(currentPage - 1) * recipesPerPage + 1, \" - \", Math.min(currentPage * recipesPerPage, recipes.length), \" z \", recipes.length, \" recept\\u016F\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 flex justify-between sm:justify-end\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handlePageChange(currentPage - 1),\n              disabled: currentPage === 1,\n              className: \"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50\",\n              children: \"P\\u0159ede\\u0161l\\xE9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handlePageChange(currentPage + 1),\n              disabled: currentRecipes.length < recipesPerPage,\n              className: \"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50\",\n              children: \"Dal\\u0161\\xED\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n}\n_s(Recipes, \"YlDAqbIcxYtdVKvzsmnOGRJYfrc=\");\n_c = Recipes;\nvar _c;\n$RefreshReg$(_c, \"Recipes\");","map":{"version":3,"names":["React","useEffect","useState","getAllRecipe","getFilteredRecipes","Recipe","paginate","Select","jsxDEV","_jsxDEV","Recipes","_s","recipes","setRecipes","currentPage","setCurrentPage","sortValue","setSortValue","recipesPerPage","options","value","label","fetchData","data","error","console","fetchFilteredData","log","currentRecipes","handlePageChange","pageNumber","handleSortChange","event","target","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","map","recipe","id","length","Math","min","onClick","disabled","_c","$RefreshReg$"],"sources":["/Users/simonhrdy/Desktop/bakalarka/web/src/layout/Recipe/recipes.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { getAllRecipe } from \"../../Repositories/RecipeRepository\";\nimport { getFilteredRecipes } from \"../../Repositories/RecipeRepository\"\nimport Recipe from \"../../components/recipe\";\nimport { paginate } from \"../../Services/paginationUtils\";\nimport Select from \"../../components/select\";\n\nexport default function Recipes() {\n    const [recipes, setRecipes] = useState([]);\n    const [currentPage, setCurrentPage] = useState(1);\n    const [sortValue, setSortValue] = useState('0');\n    const recipesPerPage = 8;\n    const options = [\n        { value: '0', label: '' },\n        { value: '1', label: 'Podle hodnocení' },\n        { value: '2', label: 'Od nejnovějšího' },\n        { value: '3', label: 'Od nejstaršího' }\n    ];\n\n    useEffect(() => {\n        async function fetchData() {\n            try {\n                const data = await getAllRecipe();\n                setRecipes(data);\n            } catch (error) {\n                console.error(error);\n            }\n        }\n\n        fetchData();\n    }, []);\n\n    useEffect(() => {\n        async function fetchFilteredData() {\n            try {\n                console.log(sortValue)\n                const data = await getFilteredRecipes(sortValue);\n                setRecipes(data);\n            } catch (error) {\n                console.error(error);\n            }\n        }\n\n        fetchFilteredData();\n    }, [sortValue]);\n\n    const currentRecipes = paginate(recipes, currentPage, recipesPerPage);\n    const handlePageChange = (pageNumber) => setCurrentPage(pageNumber);\n\n    const handleSortChange = (event) => {\n        setSortValue(event.target.value);\n    };\n\n    return (\n        <div className=\"bg-white\">\n            <h1 className=\"text-center text-4xl font-bold mt-16 mb-8\">Recepty</h1>\n            <div className=\"mx-auto max-w-2xl px-4 py-12 lg:max-w-7xl lg:px-8\">\n                <Select className={\"text-black mt-1 rounded-xl w-fit\"} options={options} label={\"Třídění\"} value={sortValue} onChange={handleSortChange} />\n                <div className=\"grid grid-cols-1 gap-x-6 gap-y-10 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 xl:gap-x-8 mt-5\">\n                    {currentRecipes.map((recipe) => (\n                        <Recipe key={recipe.id} recipe={recipe} />\n                    ))}\n                </div>\n                <div className=\"mt-7\">\n                    {recipes.length > recipesPerPage && (\n                        <nav className=\"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6\">\n                            <div className=\"hidden sm:block\">\n                                <p className=\"text-sm text-gray-700\">\n                                    {((currentPage - 1) * recipesPerPage) + 1} - {Math.min((currentPage * recipesPerPage), recipes.length)} z {recipes.length} receptů\n                                </p>\n                            </div>\n                            <div className=\"flex-1 flex justify-between sm:justify-end\">\n                                <button\n                                    onClick={() => handlePageChange(currentPage - 1)}\n                                    disabled={currentPage === 1}\n                                    className=\"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50\"\n                                >\n                                    Předešlé\n                                </button>\n                                <button\n                                    onClick={() => handlePageChange(currentPage + 1)}\n                                    disabled={currentRecipes.length < recipesPerPage}\n                                    className=\"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50\"\n                                >\n                                    Další\n                                </button>\n                            </div>\n                        </nav>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}