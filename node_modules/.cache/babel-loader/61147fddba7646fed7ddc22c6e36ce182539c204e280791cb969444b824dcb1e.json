{"ast":null,"code":"import axios from 'axios';\nexport async function login(email, password) {\n  try {\n    const response = await axios.post('https://simon.pekneweby.com/api/login', {\n      email: email,\n      password: password\n    });\n    const token = JSON.stringify(response.data.token);\n    console.log(\"Token:\", token);\n    if (!token) {\n      throw new Error(\"Token nebyl vrácen.\");\n    }\n\n    // Získání dat o uživateli\n    const userResponse = await axios.get('https://simon.pekneweby.com/api/user/me', {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    return {\n      token,\n      user: userResponse.data\n    };\n  } catch (error) {\n    console.error(\"Chyba při přihlašování nebo získávání uživatelských dat:\", error);\n    throw error;\n  }\n}","map":{"version":3,"names":["axios","login","email","password","response","post","token","JSON","stringify","data","console","log","Error","userResponse","get","headers","Authorization","user","error"],"sources":["/Users/simonhrdy/Desktop/bakalarka/web/src/Auth/login.js"],"sourcesContent":["import axios from 'axios';\n\nexport async function login(email, password) {\n    try {\n        const response = await axios.post('https://simon.pekneweby.com/api/login', {\n            email: email,\n            password: password\n        });\n\n\n        const token = JSON.stringify(response.data.token);\n        console.log(\"Token:\", token)\n\n        if (!token) {\n            throw new Error(\"Token nebyl vrácen.\");\n        }\n\n        // Získání dat o uživateli\n        const userResponse = await axios.get('https://simon.pekneweby.com/api/user/me', {\n            headers: {\n                Authorization: `Bearer ${token}`\n            }\n        });\n\n        return { token, user: userResponse.data };\n    } catch (error) {\n        console.error(\"Chyba při přihlašování nebo získávání uživatelských dat:\", error);\n        throw error;\n    }\n}\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,OAAO,eAAeC,KAAKA,CAACC,KAAK,EAAEC,QAAQ,EAAE;EACzC,IAAI;IACA,MAAMC,QAAQ,GAAG,MAAMJ,KAAK,CAACK,IAAI,CAAC,uCAAuC,EAAE;MACvEH,KAAK,EAAEA,KAAK;MACZC,QAAQ,EAAEA;IACd,CAAC,CAAC;IAGF,MAAMG,KAAK,GAAGC,IAAI,CAACC,SAAS,CAACJ,QAAQ,CAACK,IAAI,CAACH,KAAK,CAAC;IACjDI,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEL,KAAK,CAAC;IAE5B,IAAI,CAACA,KAAK,EAAE;MACR,MAAM,IAAIM,KAAK,CAAC,qBAAqB,CAAC;IAC1C;;IAEA;IACA,MAAMC,YAAY,GAAG,MAAMb,KAAK,CAACc,GAAG,CAAC,yCAAyC,EAAE;MAC5EC,OAAO,EAAE;QACLC,aAAa,EAAG,UAASV,KAAM;MACnC;IACJ,CAAC,CAAC;IAEF,OAAO;MAAEA,KAAK;MAAEW,IAAI,EAAEJ,YAAY,CAACJ;IAAK,CAAC;EAC7C,CAAC,CAAC,OAAOS,KAAK,EAAE;IACZR,OAAO,CAACQ,KAAK,CAAC,0DAA0D,EAAEA,KAAK,CAAC;IAChF,MAAMA,KAAK;EACf;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}