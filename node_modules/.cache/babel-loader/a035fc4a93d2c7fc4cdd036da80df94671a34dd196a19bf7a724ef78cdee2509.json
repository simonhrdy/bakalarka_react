{"ast":null,"code":"var _jsxFileName = \"/Users/simonhrdy/Desktop/bakalarka/web/src/layout/User/profile.js\",\n  _s = $RefreshSig$();\nimport userAuth from \"../../Auth/userAuth\";\nimport Input from \"../../components/input\";\nimport { updateRecipe } from \"../../Repositories/RecipeRepository\";\nimport { useState } from \"react\";\nimport { validatePassword } from \"../../Services/validator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Profile() {\n  _s();\n  const [formData, setFormData] = useState({\n    email: userAuth.getUserEmail(),\n    password: ''\n  });\n  const [message, setMessage] = useState();\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value\n    });\n  };\n  const handleSubmit = async event => {\n    event.preventDefault();\n    try {\n      const formDataToSend = new FormData();\n      formDataToSend.append('email', formData.email);\n      if (formData.password) {\n        if (!validatePassword(formData.password)) {\n          setMessage(\"Heslo musí mít minimálně 5 znaků, jedno velké písmeno a jeden speciální znak\");\n          return;\n        }\n        formDataToSend.append('password', formData.password);\n      }\n      const result = await updateRecipe(formDataToSend, userAuth.getUserId());\n      if (result.success) {\n        userAuth.setUser(result.user);\n        formData.email = userAuth.getUserEmail();\n        setMessage(\"Upráva proběhla úspěšně\");\n      } else {\n        setMessage(\"Něco se pokazilo\");\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: divStyle,\n    className: \"flex flex-col justify-center items-center mt-12\",\n    children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      fill: \"none\",\n      viewBox: \"0 0 24 24\",\n      strokeWidth: \"1.5\",\n      stroke: \"currentColor\",\n      className: \"w-24 h-24\",\n      children: /*#__PURE__*/_jsxDEV(\"path\", {\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\",\n        d: \"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-xl font-bold mt-1\",\n      children: \"Profil\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"w-6/12\",\n      method: \"post\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(Input, {\n        className: \"text-black mt-1 rounded-xl\",\n        onChange: handleInputChange,\n        type: \"text\",\n        value: formData.email,\n        name: \"email\",\n        label: \"E-mail\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        className: \"text-black mt-1 rounded-xl\",\n        onChange: handleInputChange,\n        type: \"password\",\n        name: \"password\",\n        label: \"Heslo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col\",\n        children: [message, /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"mt-8 bg-white text-black py-1 px-4 rounded-xl\",\n          type: \"submit\",\n          children: \"Upravit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n}\n_s(Profile, \"Fc1YPxzPTWmuquWVDk4T90SwnzE=\");\n_c = Profile;\nconst divStyle = {\n  background: \"rgb(17,24,39)\",\n  color: \"white\",\n  padding: \"100px 0\",\n  width: \"auto\",\n  margin: \"5% 30%\",\n  borderRadius: \"20px\"\n};\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["userAuth","Input","updateRecipe","useState","validatePassword","jsxDEV","_jsxDEV","Profile","_s","formData","setFormData","email","getUserEmail","password","message","setMessage","handleInputChange","e","name","value","target","handleSubmit","event","preventDefault","formDataToSend","FormData","append","result","getUserId","success","setUser","user","error","console","style","divStyle","className","children","xmlns","fill","viewBox","strokeWidth","stroke","strokeLinecap","strokeLinejoin","d","fileName","_jsxFileName","lineNumber","columnNumber","method","onSubmit","onChange","type","label","_c","background","color","padding","width","margin","borderRadius","$RefreshReg$"],"sources":["/Users/simonhrdy/Desktop/bakalarka/web/src/layout/User/profile.js"],"sourcesContent":["import userAuth from \"../../Auth/userAuth\";\nimport Input from \"../../components/input\";\nimport { updateRecipe } from \"../../Repositories/RecipeRepository\";\nimport { useState } from \"react\";\nimport {validatePassword} from \"../../Services/validator\";\n\nexport default function Profile() {\n    const [formData, setFormData] = useState({\n        email: userAuth.getUserEmail(),\n        password: '',\n    });\n    const [message, setMessage] = useState();\n\n    const handleInputChange = (e) => {\n        const { name, value } = e.target;\n        setFormData({\n            ...formData,\n            [name]: value\n        });\n    };\n\n    const handleSubmit = async (event) => {\n        event.preventDefault();\n        try {\n            const formDataToSend = new FormData();\n            formDataToSend.append('email', formData.email);\n            if (formData.password) {\n                if(!validatePassword(formData.password)){\n                    setMessage(\"Heslo musí mít minimálně 5 znaků, jedno velké písmeno a jeden speciální znak\");\n                    return;\n                }\n                formDataToSend.append('password', formData.password);\n            }\n            const result = await updateRecipe(formDataToSend, userAuth.getUserId());\n            if(result.success){\n                userAuth.setUser(result.user);\n                formData.email = userAuth.getUserEmail()\n                setMessage(\"Upráva proběhla úspěšně\");\n            } else {\n                setMessage(\"Něco se pokazilo\");\n            }\n        } catch (error) {\n            console.error(error)\n        }\n    }\n\n    return (\n        <div style={divStyle} className={\"flex flex-col justify-center items-center mt-12\"}>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth=\"1.5\" stroke=\"currentColor\" className=\"w-24 h-24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z\" />\n            </svg>\n            <h1 className={\"text-xl font-bold mt-1\"}>Profil</h1>\n            <form className={\"w-6/12\"} method={\"post\"} onSubmit={handleSubmit}>\n                <Input className={\"text-black mt-1 rounded-xl\"} onChange={handleInputChange} type={\"text\"} value={formData.email} name={\"email\"} label={\"E-mail\"} />\n                <Input className={\"text-black mt-1 rounded-xl\"} onChange={handleInputChange} type={\"password\"} name={\"password\"} label={\"Heslo\"} />\n                <div className={\"flex flex-col\"}>\n                    {message}\n                    <button className={\"mt-8 bg-white text-black py-1 px-4 rounded-xl\"} type={\"submit\"}>Upravit</button>\n                </div>\n            </form>\n        </div>\n    );\n}\n\nconst divStyle = {\n    background: \"rgb(17,24,39)\",\n    color: \"white\",\n    padding: \"100px 0\",\n    width: \"auto\",\n    margin: \"5% 30%\",\n    borderRadius: \"20px\"\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}